<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="keywords" content="Tuft, TuftJS, http, web, framework, node, nodejs, node.js">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="stylesheet" type="text/css" href="/assets/css/styles.css">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Tuft - a Node.js web framework</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Tuft - a Node.js web framework" />
<meta name="author" content="Stuart Kennedy" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://www.tuft.dev/docs/tuft-context/" />
<meta property="og:url" content="https://www.tuft.dev/docs/tuft-context/" />
<meta property="og:site_name" content="Tuft - a Node.js web framework" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Tuft - a Node.js web framework" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Stuart Kennedy"},"headline":"Tuft - a Node.js web framework","url":"https://www.tuft.dev/docs/tuft-context/"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
  <div id="container">
    <header >
  <div id="logo">
    <h2>Tuft</h2>
    <div id="latest-release-link-container">
      <a href="https://github.com/tuftjs/tuft/releases" target="_blank">
        2.5.1</a>
    </div>
  </div>
  <nav id="nav-bar">
    <ul>
      
      <li >
        <a class="nav-bar-link"  href="/">
          Home
        </a>
      </li>
      
      <li class="current" >
        <a class="nav-bar-link current"
           href="/docs/">
          Docs
        </a>
      </li>
      
      <li >
        <a class="nav-bar-link"  href="/extensions/">
          Extensions
        </a>
      </li>
      
      <li >
        <a class="nav-bar-link"  href="/benchmarks/">
          Benchmarks
        </a>
      </li>
      
      <li >
        <a class="nav-bar-link"  href="/about/">
          About
        </a>
      </li>
      
      <li id="github-link"><a class="nav-bar-link" href="https://github.com/tuftjs/tuft" target="_blank">GitHub&nbsp;</a><img
          id="github-new-window-image" src="/assets/images/open_in_new-black-18dp.svg" alt="new window"></li>
    </ul>
  </nav>
</header>

    <div id="content-container">
      <main id="docs">
  <section id="docs-nav">
  <h4>GETTING STARTED</h4>
  <ul>
    
    <li>
      <a href="/docs/" class="docs-nav-link" >
        Quick start</a>
    </li>
    
  </ul>
  <h4>MAIN CONCEPTS</h4>
  <ul>
    
    <li>
      <a href="/docs/application/" class="docs-nav-link" >
        Application</a>
    </li>
    
    <li>
      <a href="/docs/routing/" class="docs-nav-link" >
        Routing</a>
    </li>
    
    <li>
      <a href="/docs/response-handling/" class="docs-nav-link" >
        Response handling</a>
    </li>
    
    <li>
      <a href="/docs/context/" class="docs-nav-link" >
        Context</a>
    </li>
    
    <li>
      <a href="/docs/extensions/" class="docs-nav-link" >
        Extensions</a>
    </li>
    
  </ul>
  <h4>API</h4>
  <ul>
    
    <li>
      <a href="/docs/tuft-route-map/" class="docs-nav-link" >
        TuftRouteMap</a>
    </li>
    
    <li>
      <a href="/docs/tuft-context/" class="docs-nav-link current"
        >
        TuftContext</a>
    </li>
    
    <li>
      <a href="/docs/tuft-server/" class="docs-nav-link" >
        TuftServer</a>
    </li>
    
    <li>
      <a href="/docs/tuft-secure-server/" class="docs-nav-link" >
        TuftSecureServer</a>
    </li>
    
    <li>
      <a href="/docs/create-promise/" class="docs-nav-link" >
        createPromise()</a>
    </li>
    
    <li>
      <a href="/docs/response-object/" class="docs-nav-link" >
        Response object</a>
    </li>
    
    <li>
      <a href="/docs/built-in-extensions/" class="docs-nav-link" >
        Built-in Extensions</a>
    </li>
    
  </ul>
</section>
<section id="docs-nav-mobile">
  <select onchange="if (this.value) window.location.href=this.value">
    <optgroup label="Getting Started">
      
      <option value="/docs/" >
        Quick start</option>
      
    </optgroup>
    <optgroup label="Main Concepts">
      
      <option value="/docs/application/" >
        Application</option>
      
      <option value="/docs/routing/" >
        Routing</option>
      
      <option value="/docs/response-handling/" >
        Response handling</option>
      
      <option value="/docs/context/" >
        Context</option>
      
      <option value="/docs/extensions/" >
        Extensions</option>
      
    </optgroup>
    <optgroup label="API">
      
      <option value="/docs/tuft-route-map/" >
        TuftRouteMap</option>
      
      <option value="/docs/tuft-context/" selected>
        TuftContext</option>
      
      <option value="/docs/tuft-server/" >
        TuftServer</option>
      
      <option value="/docs/tuft-secure-server/" >
        TuftSecureServer</option>
      
      <option value="/docs/create-promise/" >
        createPromise()</option>
      
      <option value="/docs/response-object/" >
        Response object</option>
      
      <option value="/docs/built-in-extensions/" >
        Built-in Extensions</option>
      
    </optgroup>
  </select>
</section>

  <section id="docs-content">
    <h1>TuftContext</h1>
    <p>The Tuft context object is passed as the first and only argument to the user-defined response handler, as well as
      any pre-handlers that are present on a particular route. It contains the <code class="code-inline">request</code>
      object as one of its properties, as well as several useful methods.</p>

    <h3 class="docs-sub-heading">Methods</h3>

    <div class="api-entry">
      <h3><code>.setHeader(name, value)</code></h3>
      <p>Sets the outgoing header <code class="code-inline">name</code> to <code class="code-inline">value</code>.</p>
      <pre><code class="language-js">t.setHeader('foo', 'bar')</code></pre>
    </div>

    <div class="api-entry">
      <h3><code>.getHeader(name)</code></h3>
      <p>Returns the current value of outgoing header <code class="code-inline">name</code>. If <code
          class="code-inline">name</code> has not been set, then returns <code class="code-inline">undefined</code>.</p>
      <pre><code class="language-js">t.getHeader('foo') // 'bar'</code></pre>
    </div>

    <div class="api-entry">
      <h3><code>.getHeaders()</code></h3>
      <p>Returns an object containing all the outgoing headers that are currently set.</p>
      <pre><code class="language-js">t.getHeaders() // { foo: 'bar' }</code></pre>
    </div>

    <div class="api-entry">
      <h3 id="set-cookie"><code>.setCookie(name, value[, options])</code></h3>
      <p>Updates the outgoing <code class="code-inline">set-cookie</code> header (creating it if it doesn't already
        exist) with the provided <code class="code-inline">name</code> and <code class="code-inline">value</code>.</p>
      <pre><code class="language-js">t.setCookie('my-cookie-name', 'my-cookie-value')</code></pre>
      <p>Can be passed a third <code class="code-inline">options</code> argument which is an object containing any of
        the following properties:</p>

      <div class="api-entry">
        <h3><code>expires</code><code class="code-data-type">Date</code></h3>
        <p> When the cookie should expire. If not set, a session cookie is created. If <code
            class="code-inline">expires</code> and <code class="code-inline">maxAge</code> are both set, only <code
            class="code-inline">maxAge</code> will be used.</p>
      </div>

      <div class="api-entry">
        <h3><code>maxAge</code><code class="code-data-type">number</code></h3>
        <p>The number of seconds until the cookie expires. A value less than or equal to zero will expire the cookie
          immediately.</p>
      </div>

      <div class="api-entry">
        <h3><code>domain</code><code class="code-data-type">string</code></h3>
        <p>The host that the cookie will be sent to.</p>
      </div>

      <div class="api-entry">
        <h3><code>path</code><code class="code-data-type">string</code></h3>
        <p>Text that must exist in the request URL in order for the client to send the <code
            class="code-inline">cookie</code> header.</p>
        <p>Defaults to <code class="code-inline">'/'</code>.</p>
      </div>

      <div class="api-entry">
        <h3><code>secure</code><code class="code-data-type">boolean</code></h3>
        <p>Whether or not cookies should only be sent via <strong>HTTPS</strong>.</p>
      </div>

      <div class="api-entry">
        <h3><code>httpOnly</code><code class="code-data-type">boolean</code></h3>
        <p>Whether or not client side JavaScript should be prevented from accessing the cookie.</p>
      </div>

      <div class="api-entry">
        <h3><code>sameSite</code><code class="code-data-type">string</code></h3>
        <p> A string that must be one of the following three values:</p>
        <ul class="docs-list">
          <li><code class="code-inline">'Strict'</code></li>
          <li><code class="code-inline">'Lax'</code></li>
          <li><code class="code-inline">'None'</code></li>
        </ul>
        <p>Can be set to <code class="code-inline">'Strict'</code> or <code class="code-inline">'Lax'</code> to help
          mitigate the threat of CSRF attacks. For more information, see the <a
            href="https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00#section-4.1.1"
            target="_blank">official specification</a>.</p>
      </div>
    </div>

    <h3 class="docs-sub-heading">Properties</h3>

    <div class="api-entry">
      <h3><code>secure</code> <code class="code-data-type">boolean</code></h3>
      <p>Indicates whether or not the current HTTP transaction is secure (i.e. <code class="code-inline">t.request.protocol === 'https'</code>)</p>
    </div>

    <div class="api-entry">
      <h3><code>request</code><code class="code-data-type">object</code></h3>
      <p>Contains the following properties related to the incoming HTTP request:</p>

      <div class="api-entry api-entry-indented">
        <h3><code>headers</code> <code class="code-data-type">object</code></h3>
        <p>Contains the incoming HTTP headers.</p>
      </div>

      <div class="api-entry api-entry-indented">
        <h3><code>method</code><code class="code-data-type">string</code></h3>
        <p>The request method for the current request.</p>
      </div>

      <div class="api-entry api-entry-indented">
        <h3><code>pathname</code><code class="code-data-type">string</code></h3>
        <p>The pathname for the current request, without the query string (if one existed).</p>
      </div>

      <div class="api-entry api-entry-indented">
        <h3><code>protocol</code><code class="code-data-type">string</code></h3>
        <p>The HTTP scheme of the incoming request (<code class="code-inline">'http'</code> or <code class="code-inline">'https'</code>).</p>
      </div>

      <div class="api-entry api-entry-indented">
        <h3><code>ip</code><code class="code-data-type">string</code></h3>
        <p>The IP address of the remote client.</p>
      </div>

      <div class="api-entry api-entry-indented">
        <h3><code>search</code><code class="code-data-type">string</code></h3>
        <p>The query string from the request URL. If there is no query string, the value of this property will be an
          empty string.</p>
      </div>

      <div class="api-entry api-entry-indented">
        <h3><code>secure</code><code class="code-data-type">boolean</code></h3>
        <p>Whether or not the current request is using <strong>HTTP</strong> or <strong>HTTPS</strong>.</p>
      </div>

      <div class="api-entry api-entry-indented">
        <h3><code>params</code><code class="code-data-type">object</code></h3>
        <p>Contains any named parameters that were provided in the route-defined path. For example, the route <code
            class="code-inline">'GET /user/{name}'</code> contains the named parameter <code
            class="code-inline">name</code>. The <code class="code-inline">params</code> object for a GET request for
          <code class="code-inline">'/user/john'</code> would then be <code class="code-inline">{ name: 'john' }</code>.
        </p>
      </div>
      <p>In addition to the properties listed above, the request object may contain other properties that were added by
        pre-handlers that are active on the current route.</p>
    </div>
  </section>
</main>

    </div>
    <footer>
  <p>
    The Tuft framework, this website, and all content therein are copyright <span class="copyright">&copy; 2020</span> under the terms of the <a href="https://github.com/tuftjs/tuft/blob/master/LICENSE" target="_blank">MIT License</a>.
  </p>
  <p>
    Hosted by <a href="https://pages.github.com" target="_blank">GitHub Pages</a>.
  </p>
  <p id="github-footer">View the project respository on
    <a href="https://github.com/tuftjs/tuft" target="_blank">GitHub</a>.
  </p>
</footer>

  </div>
  <script src="/assets/scripts/prism.js"></script>
</body>

</html>
